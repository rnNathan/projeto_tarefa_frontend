<app-home></app-home>
<div class="container">
  <br>
  <div class="card custom-border">
    <div class="card-header">
      <h5>Lista de tarefas</h5>
    </div>
    <div class="card-body">
      <form>
        <div class="row">
          <div class="col-md-4">
            <label for="nome">Nome tarefa:</label>
            <input type="text" id="nomeTarefa" class="form-control" name="nomeTarefa"
            [(ngModel)]="seletor.nomeTarefa" />
          </div>
          <div class="col-md-4">
            <label for="nome">Tipo tarefa:</label>
            <input type="text" id="tipoTarefa" class="form-control" name="tipoTarefa"
            [(ngModel)]="seletor.tipoTarefa" />
          </div>
          <!--<div class="col-md-4">
            <label>Realizada:</label><br>
            <div class="form-check">
              <input class="form-check-input" type="checkbox" id="realizadaSim" name="realizadaSim"
                  [(ngModel)]="seletor.realizado" [value]="true">
              <label class="form-check-label" for="realizadaSim">Sim</label>
            </div>
          </div>-->
        </div>
        <div class="row">
          <div class="col-md-12 form-group">
            <label for="btnPesquisar" class="form-label">&nbsp;</label>
            <button type="button" class="btn btn-outline-secondary"
              style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: .5rem; --bs-btn-font-size: .75rem;"
              name="btnPesquisar" (click)="pesquisar()">
              Pesquisar
            </button>
            <label for="btnLimpar" class="form-label">&nbsp;</label>
            <button type="button" class="btn btn-outline-primary"
              style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: .5rem; --bs-btn-font-size: .75rem;"
              (click)="limpar()">
              Limpar
            </button>
            <button type="button" class="btn btn-outline-secondary"
              style="--bs-btn-padding-y: .25rem; --bs-btn-padding-x: .5rem; --bs-btn-font-size: .75rem;"
              name="btnPesquisar" (click)="voltar()">
              Voltar
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
  <br><br>
  <div class="row">
    <div class="col-md-4" *ngFor="let tarefa of tarefas">
      <div class="card mb-4">
        <div id="div-btn" class="card-header d-flex align-items-center" style="background-color: #acc4df;font-size: larger">
          <span>{{ tarefa.nomeTarefa }}</span>
          <div class="d-flex ms-auto">
              <button id="btn-green" class="btn btn-outline-success me-2" (click)="atualizar(tarefa.idTarefa)">
                  <i class="bi bi-pen"></i>
              </button>
              <button class="btn btn-outline-danger" (click)="excluir(tarefa)">
                  <i class="bi bi-trash"></i>
              </button>
          </div>
      </div>
      <div style="background-color: #acc4df; font-size: medium; padding-left: 15px; font-style: italic;">
          <li class="list-group-item">Tipo: {{ tarefa.tipoTarefa }}</li>
      </div>
      <ul class="list-group list-group-flush">
        <li class="list-group-item d-flex justify-content-between align-items-center" *ngFor="let item of tarefa.itensTarefa">
            <div class="form-check">
                <input class="form-check-input" type="checkbox"
                    [(ngModel)]="item.realizado">
                <label class="form-check-label" for="itemCheckbox{{item.idItem}}">
                    {{ item.descricao }}
                </label>
            </div>
            <div>
                <button id="btn-edit" class="btn btn-outline-success me-2" (click)="alterarItem(item)">
                    <i class="bi bi-pen"></i>
                </button>
                <button class="btn btn-outline-danger" (click)="excluirItem(item)">
                    <i class="bi bi-trash"></i>
                </button>
            </div>
        </li>
      </ul>
      </div>
    </div>
  </div>
</div>
